# JPMorgan_Internship_Question_1  Repository Structure and Version Notes

## Deprecated Content
All files within the `Version1_not_used` folder were initially committed on **2025/11/23**. As the project progressed, critical issues and limitations were identified in this early version. **This folder and its contents are now considered obsolete and should not be referenced for current development or implementation.** Please rely exclusively on the latest code versions provided in the directories below.

## Active Model Directories

### 1. Theory_based_Model
This directory contains a fully redesigned theoretical model built upon the foundational work of:
- Pareja (2007)
- Pareja (2009)
- Pelaez (2011)

All associated datasets and supporting documentation for this theoretical framework have been fully uploaded and are ready for reference/use.

### 2. ML_Enhanced_Model
This directory houses a novel machine learning model developed with the following methodologies:
- Temporal Fusion Transformers (TFT)
- Quantile Regression
- Physics-Informed Neural Network (PINN) principles

The complete implementation, including model code, training scripts, and relevant data, has been uploaded in full and represents the latest iteration of the ML-driven approach.

#### How to run:
Generate Data based on yfinance: 

python preprocess_hybrid_tft_dataset.py --universe_csv DataPrepare.csv --freq MIX --lookback 5 --horizon 2 --out_dir data_hybrid_MIX


Perform Training in my report: 

python train_hybrid_tft.py --data_dir data_hybrid_MIX --model_dir model_hybrid_tft --epochs 200 --batch_size 64 --lr 1e-3


Predict 7 companies and plot the prediction result v.s. Ground truth: 

python test_forecast_companies_rolling_skip.py --data_dir data_hybrid_MIX --model_dir model_hybrid_tft --tickers 0700.HK,9988.HK,GOOG,JPM,MSFT,VWAGY,XOM --seed_points 4 --use_step 1 --out_dir rolling_results_skip --plot_dir rolling_figures_skip --skip_missing_periods

### 3. LLMBasedPart
All the prompts and result generated by Gemini3-pro and GPT5.2-Thinking are placed at: LLMBasedPart\llm_rollout_inputs\

To plot the LLM result together with ML_Enhanced_Model (Here is based on windows Powershell, for linux please change the `):

python test_forecast_companies_rolling_skip_llm.py `
  --data_dir data_hybrid_MIX `
  --model_dir model_hybrid_tft `
  --tickers 0700.HK,9988.HK,GOOG,JPM,MSFT,VWAGY,XOM `
  --seed_points 4 `
  --use_step 1 `
  --out_dir rolling_results_skip_llm `
  --plot_dir rolling_figures_skip_llm `
  --skip_missing_periods `
  --llm_labels GPT Gemini `
  --llm_mds `
    "./llm_rollout_inputs/0700Tencent/0700.HK_LLM_prompt_GPT.md" `
    "./llm_rollout_inputs/0700Tencent/0700.HK_LLM_prompt_Gemini.md" `
    "./llm_rollout_inputs/9988Alibaba/9988.HK_LLM_prompt_GPT.md" `
    "./llm_rollout_inputs/9988Alibaba/9988.HK_LLM_prompt_Gemini.md" `
    "./llm_rollout_inputs/GOOG/GOOG_LLM_prompt_GPT.md" `
    "./llm_rollout_inputs/GOOG/GOOG_LLM_prompt_Gemini.md" `
    "./llm_rollout_inputs/JPM/JPM_LLM_prompt_GPT.md" `
    "./llm_rollout_inputs/JPM/JPM_LLM_prompt_Gemini.md" `
    "./llm_rollout_inputs/MSFT/MSFT_LLM_prompt_GPT.md" `
    "./llm_rollout_inputs/MSFT/MSFT_LLM_prompt_Gemini.md" `
    "./llm_rollout_inputs/VWAGY/VWAGY_LLM_prompt_GPT.md" `
    "./llm_rollout_inputs/VWAGY/VWAGY_LLM_prompt_Gemini.md" `
    "./llm_rollout_inputs/XOM/XOM_LLM_prompt_GPT.md" `
    "./llm_rollout_inputs/XOM/XOM_LLM_prompt_Gemini.md"

### 4. LLMPDF
Here you can find the file Gemini which means this part is based on Gemini3Pro. The script annual_report_pipeline_Gemini.py can generate the tokens.md and answer.md based on specific pdf files. Before running it, you should use 

$env:GOOGLE_API_KEY = "Your_Gemini_API_Key"

to finish the setup (Here is for Windows Powershell, for Linux, using 'export' instead). Then, running the script by:

python annual_report_pipeline_Gemini.py --pdf 2023GM_annual_report.pdf --model gemini-3-pro-preview

python annual_report_pipeline_Gemini.py --pdf ./LVMH/lvmh_Financialdocuments-December31%2C2024.pdf --model gemini-3-pro-preview

A deepseek version is also avilable according to your request.

---

### Key Notes
- **Deprecated**: `Version1_not_used` (2025/11/23 commit) â€“ do not use
- **Primary References**: 
  - Theoretical framework: `Theory_based_Model`
  - ML-based framework: `ML_Enhanced_Model`
  - LLM prediction result: `LLMBasedPart`
